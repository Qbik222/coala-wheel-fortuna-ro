"use strict";

document.addEventListener("DOMContentLoaded", function () {
  var days = document.querySelectorAll(".wheel__days-item");
  var popupDays = document.querySelectorAll(".popup__days-item");
  var popupDaysMob = document.querySelectorAll(".days__item");
  var currentDay = 5;
  function setDays(days, currentDay) {
    days.forEach(function (day, i) {
      ++i;
      day.classList.toggle("next", i > currentDay);
      day.classList.toggle("past", i < currentDay);
      day.classList.toggle("active", i === currentDay);
    });
  }
  function daysRemind(days, classAnim) {
    var delay = 900;
    days.forEach(function (day, i) {
      setTimeout(function () {
        day.classList.add(classAnim);
        setTimeout(function () {
          return day.classList.remove(classAnim);
        }, 1200);
      }, delay * i);
    });
  }
  // const randomInterval = Math.random() * (6000 - 4000) + 4000;
  function addFireworks(containerSelector, numberOfFireworks) {
    var fireworksWrap = document.createElement('div');
    fireworksWrap.className = 'fireworks-wrap';
    for (var i = 0; i < numberOfFireworks; i++) {
      var firework = document.createElement('div');
      firework.className = 'firework';
      fireworksWrap.appendChild(firework);
    }
    var container = document.querySelector(containerSelector);
    if (container) {
      container.appendChild(fireworksWrap);
    } else {
      console.error("\u041A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440 \u0437 \u0441\u0435\u043B\u0435\u043A\u0442\u043E\u0440\u043E\u043C \"".concat(containerSelector, "\" \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E."));
    }
  }
  function removeFireworks(containerSelector) {
    var container = document.querySelector(containerSelector);
    if (container) {
      var fireworksWrap = container.querySelector('.fireworks-wrap');
      if (fireworksWrap) {
        fireworksWrap.remove();
      } else {
        console.error("\u0415\u043B\u0435\u043C\u0435\u043D\u0442 \u0437 \u043A\u043B\u0430\u0441\u043E\u043C \".fireworks-wrap\" \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E \u0432 \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0456 ".concat(containerSelector, "."));
      }
    } else {
      console.error("\u041A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440 \u0437 \u0441\u0435\u043B\u0435\u043A\u0442\u043E\u0440\u043E\u043C \"".concat(containerSelector, "\" \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E."));
    }
  }
  function startRandomInterval() {
    var randomInterval = Math.random() * (20000 - 10000) + 10000; // Випадковий інтервал між 10 і 20 секундами
    daysRemind(days, "remind");
    daysRemind(popupDays, "remind");
    daysRemind(popupDaysMob, "remind");
    setTimeout(startRandomInterval, randomInterval);
  }
  startRandomInterval();
  daysRemind(days, "remind");
  setDays(days, currentDay);
  setDays(popupDays, currentDay);
  setDays(popupDaysMob, currentDay);

  /// wheel logic
  var wheelSections = document.querySelector(".wheel__sections");
  var wheelWrap = document.querySelector(".wheel__wrap");
  var wheelArrow = document.querySelector(".wheel__arrow");
  var wheelBtn = document.querySelector(".wheel__btn");
  var spinBg = document.querySelector(".spin-bg");
  var salut = document.querySelector(".fireworks-wrap");
  var bubleBtn = document.querySelector(".wheel__days-icons");
  var wheelBuble = document.querySelector(".wheel__buble");
  var popupContainer = document.querySelector(".popups");
  var popup = document.querySelector(".popup");
  var popupCloseBtn = document.querySelector(".popup__close");
  bubleBtn.addEventListener("mouseover", function (e) {
    wheelBuble.classList.remove("_hidden");
  });
  bubleBtn.addEventListener("mouseout", function (e) {
    wheelBuble.classList.add("_hidden");
  });
  document.addEventListener("click", function (e) {
    return e.target === bubleBtn ? null : wheelBuble.classList.add("_hidden");
  });
  var prizes = ['iphone', 'ecoflow', 'merch', 'nothing', "bonuses"];
  function getRandomPrize(arr) {
    return arr[Math.floor(Math.random() * prizes.length)];
  }
  function showPopup(sections, wheel, showClass, currentDay, spinBg, closeBtn, popupContainer, popup, classPrize) {
    // document.querySelector(".fav-page").classList.add("popupBg")
    if (classPrize) {
      popup.classList.add("".concat(classPrize));
    }
    if (classPrize === "respin") return;
    popup.classList.add("".concat(showClass));
    popup.classList.contains('_nothing') === true ? null : addFireworks(".popups", 7);
    currentDay === 7 ? popup.classList.add("_done") : popup.classList.add("_incomplete");
    popupContainer.classList.add("_opacity", "_zIndex");
    document.body.style.overflow = "hidden";
    spinBg.classList.remove("showSpinBg");
    var pers = document.querySelectorAll(".popup__pers");
    var prize = document.querySelectorAll(".popup__prize");
    var buble = document.querySelectorAll(".popup__buble");
    var popupBody = document.querySelector(".popup__main");
    var popupTitle = document.querySelectorAll(".popup__title");
    var popupLeftArrow = document.querySelectorAll(".popup__decor-left");
    var popupRightArrow = document.querySelectorAll(".popup__decor-right");
    currentDay === 7 ? popupBody.classList.add("_done") : popup.classList.add("_incomplete");
    document.querySelector(".fav-page").classList.remove("bgScale");
    function addAnim(arr, classAnim) {
      arr.forEach(function (item) {
        return item.classList.add("".concat(classAnim));
      });
    }
    //popup animations
    setTimeout(function () {
      popupBody.classList.add("popupMainAnim");
      addAnim(pers, "popupPersAnim");
      addAnim(buble, "popupBubleAnim");
    }, 100);
    setTimeout(function () {
      addAnim(prize, "popupPrizeAnim");
      popupTitle.forEach(function (item) {
        return item.classList.add("popupTitleAnim");
      });
    }, 600);
    setTimeout(function () {
      popupLeftArrow.forEach(function (item) {
        return item.classList.add("popupLeftArrAnim");
      });
      popupRightArrow.forEach(function (item) {
        return item.classList.add("popupRightArrAnim");
      });
    }, 1200);
    //popup animations
    closeBtn.addEventListener("click", function () {
      popup.classList.contains('_nothing') === true ? null : addFireworks(".wheel", 7);
      wheel.classList.add("_lock");
      document.querySelector(".progress").classList.add("_lock");
      wheel.classList.remove("wheelSizeIncrease");
      document.body.style.overflow = "auto";
      popupContainer.classList.remove("_opacity", "_zIndex");
      popup.classList.remove("".concat(showClass), '_done', '_incomplete');
      removeFireworks(".popups");
    });
  }
  function spinWheel(position, animation, sections, btn, wheel, arrow, prize, spinBg, salut) {
    sections.addEventListener("animationend", function () {
      sections.style.transform = "translate(-50%, -50%) rotate(".concat(position, "deg)");
      sections.classList.remove("".concat(animation));
    }, {
      once: true
    });
    sections.classList.add("".concat(animation));
    arrow.style.opacity = "0";
    wheel.classList.add("wheelSizeIncrease");
    document.querySelector(".fav-page").classList.add("bgScale");
    document.querySelector(".sector-prize").style.opacity = "1";
    spinBg.classList.add("showSpinBg");
    if (animation !== "respinAnim") {
      btn.style.pointerEvents = "none";
    }
  }
  function firstSpin(sections, btn, wheel, arrow, prize, spinBg, salut) {
    btn.addEventListener("click", function () {
      if (prize === "nothing") {
        popup.classList.add("_nothing");
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_nothing", currentDay, spinBg, popupCloseBtn, popupContainer, popup);
        }, {
          once: true
        });
        spinWheel(1872, "nothingPrize", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
      if (prize === "fs22") {
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_bonus", currentDay, spinBg, popupCloseBtn, popupContainer, popup, "fs22");
        }, {
          once: true
        });
        spinWheel(1800, "fs22anim", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
      if (prize === "fs33") {
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_bonus", currentDay, spinBg, popupCloseBtn, popupContainer, popup, "fs33");
        }, {
          once: true
        });
        spinWheel(1762, "fs33anim", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
      if (prize === "fs44") {
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_bonus", currentDay, spinBg, popupCloseBtn, popupContainer, popup, "fs44");
        }, {
          once: true
        });
        spinWheel(2088, "fs44anim", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
      if (prize === "fs55") {
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_bonus", currentDay, spinBg, popupCloseBtn, popupContainer, popup, "fs55");
        }, {
          once: true
        });
        spinWheel(2052.5, "fs55anim", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
      if (prize === "fs66") {
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_bonus", currentDay, spinBg, popupCloseBtn, popupContainer, popup, "fs66");
        }, {
          once: true
        });
        spinWheel(2016.5, "fs66anim", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
      if (prize === "euro10") {
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_bonus", currentDay, spinBg, popupCloseBtn, popupContainer, popup, "euro10");
        }, {
          once: true
        });
        spinWheel(1980, "euro10anim", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
      if (prize === "euro20") {
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_bonus", currentDay, spinBg, popupCloseBtn, popupContainer, popup, "euro20");
        }, {
          once: true
        });
        spinWheel(1942, "euro20anim", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
      if (prize === "euro30") {
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_bonus", currentDay, spinBg, popupCloseBtn, popupContainer, popup, "euro30");
        }, {
          once: true
        });
        spinWheel(1908, "euro30anim", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
      if (prize === "respin") {
        sections.addEventListener("animationend", function () {
          return showPopup(sections, wheel, "_bonus", currentDay, spinBg, popupCloseBtn, popupContainer, popup, "respin");
        }, {
          once: true
        });
        spinWheel(72.5, "respinAnim", sections, btn, wheel, arrow, prize, spinBg, salut);
      }
    });
  }
  firstSpin(wheelSections, wheelBtn, wheelWrap, wheelArrow, "respin", spinBg, salut);

  //// accordion
  var accordionHeaders = document.querySelectorAll('.accordion__header');
  accordionHeaders.forEach(function (header) {
    header.addEventListener('click', function () {
      var content = header.nextElementSibling;
      document.querySelectorAll('.accordion__content').forEach(function (item) {
        if (item !== content) {
          item.style.display = 'none';
          item.previousElementSibling.classList.remove('open');
        }
      });
      if (content.style.display === 'block') {
        content.style.display = 'none';
        header.classList.remove('open');
      } else {
        content.style.display = 'block';
        header.classList.add('open');
      }
    });
  });

  //// for test

  var btnsWrap = document.querySelector('.btns-wrap');
  var buttons = btnsWrap.querySelectorAll('button');
  var dropBonusfs22 = document.querySelector('.drop-bonus.fs22');
  var dropBonusfs33 = document.querySelector('.drop-bonus.fs33');
  var dropBonusfs44 = document.querySelector('.drop-bonus.fs44');
  var dropBonusfs55 = document.querySelector('.drop-bonus.fs55');
  var dropBonusfs66 = document.querySelector('.drop-bonus.fs66');
  var dropBonusEuro10 = document.querySelector('.drop-bonus.euro10 ');
  var dropBonusEuro20 = document.querySelector('.drop-bonus.euro20 ');
  var dropBonusEuro30 = document.querySelector('.drop-bonus.euro30 ');
  var dropDone = document.querySelector('.drop-done');
  var dropLock = document.querySelector('.drop-lock');
  var dropSign = document.querySelector('.drop-sign');
  // const dropIncomplete = document.querySelector('.drop-incomplete');
  var dropMenu = document.querySelector('.drop-menu');
  dropMenu.addEventListener("click", function () {
    return btnsWrap.classList.toggle("_hidden");
  });
  firstSpin(wheelSections, dropBonusfs22, wheelWrap, wheelArrow, "fs22", spinBg, salut);
  firstSpin(wheelSections, dropBonusfs33, wheelWrap, wheelArrow, "fs33", spinBg, salut);
  firstSpin(wheelSections, dropBonusfs44, wheelWrap, wheelArrow, "fs44", spinBg, salut);
  firstSpin(wheelSections, dropBonusfs55, wheelWrap, wheelArrow, "fs55", spinBg, salut);
  firstSpin(wheelSections, dropBonusfs66, wheelWrap, wheelArrow, "fs66", spinBg, salut);
  firstSpin(wheelSections, dropBonusEuro10, wheelWrap, wheelArrow, "euro10", spinBg, salut);
  firstSpin(wheelSections, dropBonusEuro20, wheelWrap, wheelArrow, "euro20", spinBg, salut);
  firstSpin(wheelSections, dropBonusEuro30, wheelWrap, wheelArrow, "euro30", spinBg, salut);
  // firstSpin(wheelSections, dropBonusButton, wheelWrap, wheelArrow, "bonuses", spinBg, salut)

  buttons.forEach(function (item) {
    item.addEventListener("click", function () {
      wheelSections.style.animationDuration = "0.1s";
      wheelSections.addEventListener("animationend", function () {
        wheelSections.style.animationDuration = "8s";
      });
    });
  });
  dropLock.addEventListener("click", function () {
    wheelWrap.classList.toggle("_lock");
    document.querySelector(".progress").classList.toggle("_lock");
    wheelWrap.classList.remove("_sign");
    document.querySelector(".progress").classList.remove("_sign");
  });
  dropSign.addEventListener("click", function () {
    wheelWrap.classList.toggle("_sign");
    document.querySelector(".progress").classList.toggle("_sign");
    wheelWrap.classList.remove("_lock");
    document.querySelector(".progress").classList.remove("_lock");
  });
  dropDone.addEventListener("click", function () {
    return currentDay = 7;
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGF5cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwb3B1cERheXMiLCJwb3B1cERheXNNb2IiLCJjdXJyZW50RGF5Iiwic2V0RGF5cyIsImZvckVhY2giLCJkYXkiLCJpIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZGF5c1JlbWluZCIsImNsYXNzQW5pbSIsImRlbGF5Iiwic2V0VGltZW91dCIsImFkZCIsInJlbW92ZSIsImFkZEZpcmV3b3JrcyIsImNvbnRhaW5lclNlbGVjdG9yIiwibnVtYmVyT2ZGaXJld29ya3MiLCJmaXJld29ya3NXcmFwIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImZpcmV3b3JrIiwiYXBwZW5kQ2hpbGQiLCJjb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiY29uc29sZSIsImVycm9yIiwicmVtb3ZlRmlyZXdvcmtzIiwic3RhcnRSYW5kb21JbnRlcnZhbCIsInJhbmRvbUludGVydmFsIiwiTWF0aCIsInJhbmRvbSIsIndoZWVsU2VjdGlvbnMiLCJ3aGVlbFdyYXAiLCJ3aGVlbEFycm93Iiwid2hlZWxCdG4iLCJzcGluQmciLCJzYWx1dCIsImJ1YmxlQnRuIiwid2hlZWxCdWJsZSIsInBvcHVwQ29udGFpbmVyIiwicG9wdXAiLCJwb3B1cENsb3NlQnRuIiwiZSIsInRhcmdldCIsInByaXplcyIsImdldFJhbmRvbVByaXplIiwiYXJyIiwiZmxvb3IiLCJsZW5ndGgiLCJzaG93UG9wdXAiLCJzZWN0aW9ucyIsIndoZWVsIiwic2hvd0NsYXNzIiwiY2xvc2VCdG4iLCJjbGFzc1ByaXplIiwiY29udGFpbnMiLCJib2R5Iiwic3R5bGUiLCJvdmVyZmxvdyIsInBlcnMiLCJwcml6ZSIsImJ1YmxlIiwicG9wdXBCb2R5IiwicG9wdXBUaXRsZSIsInBvcHVwTGVmdEFycm93IiwicG9wdXBSaWdodEFycm93IiwiYWRkQW5pbSIsIml0ZW0iLCJzcGluV2hlZWwiLCJwb3NpdGlvbiIsImFuaW1hdGlvbiIsImJ0biIsImFycm93IiwidHJhbnNmb3JtIiwib25jZSIsIm9wYWNpdHkiLCJwb2ludGVyRXZlbnRzIiwiZmlyc3RTcGluIiwiYWNjb3JkaW9uSGVhZGVycyIsImhlYWRlciIsImNvbnRlbnQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJkaXNwbGF5IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImJ0bnNXcmFwIiwiYnV0dG9ucyIsImRyb3BCb251c2ZzMjIiLCJkcm9wQm9udXNmczMzIiwiZHJvcEJvbnVzZnM0NCIsImRyb3BCb251c2ZzNTUiLCJkcm9wQm9udXNmczY2IiwiZHJvcEJvbnVzRXVybzEwIiwiZHJvcEJvbnVzRXVybzIwIiwiZHJvcEJvbnVzRXVybzMwIiwiZHJvcERvbmUiLCJkcm9wTG9jayIsImRyb3BTaWduIiwiZHJvcE1lbnUiLCJhbmltYXRpb25EdXJhdGlvbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxZQUFLO0VBQy9DLElBQU1DLElBQUksR0FBR0YsUUFBUSxDQUFDRyxnQkFBZ0IsQ0FBQyxtQkFBbUIsQ0FBQztFQUMzRCxJQUFNQyxTQUFTLEdBQUdKLFFBQVEsQ0FBQ0csZ0JBQWdCLENBQUMsbUJBQW1CLENBQUM7RUFDaEUsSUFBTUUsWUFBWSxHQUFHTCxRQUFRLENBQUNHLGdCQUFnQixDQUFDLGFBQWEsQ0FBQztFQUM3RCxJQUFJRyxVQUFVLEdBQUcsQ0FBQztFQUNsQixTQUFTQyxPQUFPLENBQUNMLElBQUksRUFBRUksVUFBVSxFQUFDO0lBQzlCSixJQUFJLENBQUNNLE9BQU8sQ0FBQyxVQUFDQyxHQUFHLEVBQUVDLENBQUMsRUFBSTtNQUNwQixFQUFFQSxDQUFDO01BQ0hELEdBQUcsQ0FBQ0UsU0FBUyxDQUFDQyxNQUFNLENBQUMsTUFBTSxFQUFFRixDQUFDLEdBQUdKLFVBQVUsQ0FBQztNQUM1Q0csR0FBRyxDQUFDRSxTQUFTLENBQUNDLE1BQU0sQ0FBQyxNQUFNLEVBQUVGLENBQUMsR0FBR0osVUFBVSxDQUFDO01BQzVDRyxHQUFHLENBQUNFLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsRUFBRUYsQ0FBQyxLQUFLSixVQUFVLENBQUM7SUFDcEQsQ0FBQyxDQUFDO0VBQ047RUFDQSxTQUFTTyxVQUFVLENBQUNYLElBQUksRUFBRVksU0FBUyxFQUFFO0lBQ2pDLElBQUlDLEtBQUssR0FBRyxHQUFHO0lBQ2ZiLElBQUksQ0FBQ00sT0FBTyxDQUFDLFVBQUNDLEdBQUcsRUFBRUMsQ0FBQyxFQUFLO01BQ3JCTSxVQUFVLENBQUMsWUFBTTtRQUNiUCxHQUFHLENBQUNFLFNBQVMsQ0FBQ00sR0FBRyxDQUFDSCxTQUFTLENBQUM7UUFDNUJFLFVBQVUsQ0FBQztVQUFBLE9BQU1QLEdBQUcsQ0FBQ0UsU0FBUyxDQUFDTyxNQUFNLENBQUNKLFNBQVMsQ0FBQztRQUFBLEdBQUUsSUFBSSxDQUFDO01BQzNELENBQUMsRUFBRUMsS0FBSyxHQUFHTCxDQUFDLENBQUM7SUFDakIsQ0FBQyxDQUFDO0VBQ047RUFDQTtFQUNBLFNBQVNTLFlBQVksQ0FBQ0MsaUJBQWlCLEVBQUVDLGlCQUFpQixFQUFFO0lBQ3hELElBQU1DLGFBQWEsR0FBR3RCLFFBQVEsQ0FBQ3VCLGFBQWEsQ0FBQyxLQUFLLENBQUM7SUFDbkRELGFBQWEsQ0FBQ0UsU0FBUyxHQUFHLGdCQUFnQjtJQUMxQyxLQUFLLElBQUlkLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR1csaUJBQWlCLEVBQUVYLENBQUMsRUFBRSxFQUFFO01BQ3hDLElBQU1lLFFBQVEsR0FBR3pCLFFBQVEsQ0FBQ3VCLGFBQWEsQ0FBQyxLQUFLLENBQUM7TUFDOUNFLFFBQVEsQ0FBQ0QsU0FBUyxHQUFHLFVBQVU7TUFDL0JGLGFBQWEsQ0FBQ0ksV0FBVyxDQUFDRCxRQUFRLENBQUM7SUFDdkM7SUFDQSxJQUFNRSxTQUFTLEdBQUczQixRQUFRLENBQUM0QixhQUFhLENBQUNSLGlCQUFpQixDQUFDO0lBQzNELElBQUlPLFNBQVMsRUFBRTtNQUNYQSxTQUFTLENBQUNELFdBQVcsQ0FBQ0osYUFBYSxDQUFDO0lBQ3hDLENBQUMsTUFBTTtNQUNITyxPQUFPLENBQUNDLEtBQUssd0lBQTRCVixpQkFBaUIsdUVBQWlCO0lBQy9FO0VBQ0o7RUFDQSxTQUFTVyxlQUFlLENBQUNYLGlCQUFpQixFQUFFO0lBQ3hDLElBQU1PLFNBQVMsR0FBRzNCLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQ1IsaUJBQWlCLENBQUM7SUFDM0QsSUFBSU8sU0FBUyxFQUFFO01BQ1gsSUFBTUwsYUFBYSxHQUFHSyxTQUFTLENBQUNDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQztNQUNoRSxJQUFJTixhQUFhLEVBQUU7UUFDZkEsYUFBYSxDQUFDSixNQUFNLEVBQUU7TUFDMUIsQ0FBQyxNQUFNO1FBQ0hXLE9BQU8sQ0FBQ0MsS0FBSyx3UEFBZ0VWLGlCQUFpQixPQUFJO01BQ3RHO0lBQ0osQ0FBQyxNQUFNO01BQ0hTLE9BQU8sQ0FBQ0MsS0FBSyx3SUFBNEJWLGlCQUFpQix1RUFBaUI7SUFDL0U7RUFDSjtFQUNBLFNBQVNZLG1CQUFtQixHQUFHO0lBQzNCLElBQU1DLGNBQWMsR0FBR0MsSUFBSSxDQUFDQyxNQUFNLEVBQUUsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDaEV0QixVQUFVLENBQUNYLElBQUksRUFBRSxRQUFRLENBQUM7SUFDMUJXLFVBQVUsQ0FBQ1QsU0FBUyxFQUFFLFFBQVEsQ0FBQztJQUMvQlMsVUFBVSxDQUFDUixZQUFZLEVBQUUsUUFBUSxDQUFDO0lBQ2xDVyxVQUFVLENBQUNnQixtQkFBbUIsRUFBRUMsY0FBYyxDQUFDO0VBQ25EO0VBQ0FELG1CQUFtQixFQUFFO0VBQ3JCbkIsVUFBVSxDQUFDWCxJQUFJLEVBQUUsUUFBUSxDQUFDO0VBQzFCSyxPQUFPLENBQUNMLElBQUksRUFBRUksVUFBVSxDQUFDO0VBQ3pCQyxPQUFPLENBQUNILFNBQVMsRUFBRUUsVUFBVSxDQUFDO0VBQzlCQyxPQUFPLENBQUNGLFlBQVksRUFBRUMsVUFBVSxDQUFDOztFQUVyQztFQUNJLElBQU04QixhQUFhLEdBQUdwQyxRQUFRLENBQUM0QixhQUFhLENBQUMsa0JBQWtCLENBQUM7RUFDaEUsSUFBTVMsU0FBUyxHQUFHckMsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLGNBQWMsQ0FBQztFQUN4RCxJQUFNVSxVQUFVLEdBQUd0QyxRQUFRLENBQUM0QixhQUFhLENBQUMsZUFBZSxDQUFDO0VBQzFELElBQU1XLFFBQVEsR0FBR3ZDLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxhQUFhLENBQUM7RUFDdEQsSUFBTVksTUFBTSxHQUFHeEMsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLFVBQVUsQ0FBQztFQUNqRCxJQUFNYSxLQUFLLEdBQUd6QyxRQUFRLENBQUM0QixhQUFhLENBQUMsaUJBQWlCLENBQUM7RUFDdkQsSUFBTWMsUUFBUSxHQUFHMUMsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLG9CQUFvQixDQUFDO0VBQzdELElBQU1lLFVBQVUsR0FBRzNDLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxlQUFlLENBQUM7RUFDMUQsSUFBTWdCLGNBQWMsR0FBRzVDLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxTQUFTLENBQUM7RUFDeEQsSUFBTWlCLEtBQUssR0FBRzdDLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxRQUFRLENBQUM7RUFDOUMsSUFBTWtCLGFBQWEsR0FBRzlDLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxlQUFlLENBQUM7RUFFN0RjLFFBQVEsQ0FBQ3pDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxVQUFDOEMsQ0FBQyxFQUFJO0lBQ3pDSixVQUFVLENBQUNoQyxTQUFTLENBQUNPLE1BQU0sQ0FBQyxTQUFTLENBQUM7RUFDMUMsQ0FBQyxDQUFDO0VBQ0Z3QixRQUFRLENBQUN6QyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsVUFBQzhDLENBQUMsRUFBSTtJQUN4Q0osVUFBVSxDQUFDaEMsU0FBUyxDQUFDTSxHQUFHLENBQUMsU0FBUyxDQUFDO0VBQ3ZDLENBQUMsQ0FBQztFQUNGakIsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBQThDLENBQUM7SUFBQSxPQUFJQSxDQUFDLENBQUNDLE1BQU0sS0FBS04sUUFBUSxHQUFHLElBQUksR0FBR0MsVUFBVSxDQUFDaEMsU0FBUyxDQUFDTSxHQUFHLENBQUMsU0FBUyxDQUFDO0VBQUEsRUFBQztFQUMzRyxJQUFJZ0MsTUFBTSxHQUFHLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQztFQUNqRSxTQUFTQyxjQUFjLENBQUNDLEdBQUcsRUFBRTtJQUN6QixPQUFPQSxHQUFHLENBQUNqQixJQUFJLENBQUNrQixLQUFLLENBQUNsQixJQUFJLENBQUNDLE1BQU0sRUFBRSxHQUFHYyxNQUFNLENBQUNJLE1BQU0sQ0FBQyxDQUFDO0VBQ3pEO0VBQ0EsU0FBU0MsU0FBUyxDQUFDQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsU0FBUyxFQUFFbkQsVUFBVSxFQUFFa0MsTUFBTSxFQUFFa0IsUUFBUSxFQUFFZCxjQUFjLEVBQUVDLEtBQUssRUFBRWMsVUFBVSxFQUFDO0lBQzNHO0lBQ0EsSUFBR0EsVUFBVSxFQUFDO01BQ1ZkLEtBQUssQ0FBQ2xDLFNBQVMsQ0FBQ00sR0FBRyxXQUFJMEMsVUFBVSxFQUFHO0lBQ3hDO0lBQ0EsSUFBR0EsVUFBVSxLQUFLLFFBQVEsRUFBRTtJQUM1QmQsS0FBSyxDQUFDbEMsU0FBUyxDQUFDTSxHQUFHLFdBQUl3QyxTQUFTLEVBQUc7SUFDbkNaLEtBQUssQ0FBQ2xDLFNBQVMsQ0FBQ2lELFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHekMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7SUFDakZiLFVBQVUsS0FBSyxDQUFDLEdBQUd1QyxLQUFLLENBQUNsQyxTQUFTLENBQUNNLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRzRCLEtBQUssQ0FBQ2xDLFNBQVMsQ0FBQ00sR0FBRyxDQUFDLGFBQWEsQ0FBQztJQUNwRjJCLGNBQWMsQ0FBQ2pDLFNBQVMsQ0FBQ00sR0FBRyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUM7SUFDbkRqQixRQUFRLENBQUM2RCxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsUUFBUSxHQUFHLFFBQVE7SUFDdkN2QixNQUFNLENBQUM3QixTQUFTLENBQUNPLE1BQU0sQ0FBQyxZQUFZLENBQUM7SUFDckMsSUFBTThDLElBQUksR0FBR2hFLFFBQVEsQ0FBQ0csZ0JBQWdCLENBQUMsY0FBYyxDQUFDO0lBQ3RELElBQU04RCxLQUFLLEdBQUdqRSxRQUFRLENBQUNHLGdCQUFnQixDQUFDLGVBQWUsQ0FBQztJQUN4RCxJQUFNK0QsS0FBSyxHQUFHbEUsUUFBUSxDQUFDRyxnQkFBZ0IsQ0FBQyxlQUFlLENBQUM7SUFDeEQsSUFBTWdFLFNBQVMsR0FBR25FLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxjQUFjLENBQUM7SUFDeEQsSUFBTXdDLFVBQVUsR0FBR3BFLFFBQVEsQ0FBQ0csZ0JBQWdCLENBQUMsZUFBZSxDQUFDO0lBQzdELElBQU1rRSxjQUFjLEdBQUdyRSxRQUFRLENBQUNHLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDO0lBQ3RFLElBQU1tRSxlQUFlLEdBQUd0RSxRQUFRLENBQUNHLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDO0lBQ3hFRyxVQUFVLEtBQUssQ0FBQyxHQUFHNkQsU0FBUyxDQUFDeEQsU0FBUyxDQUFDTSxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUc0QixLQUFLLENBQUNsQyxTQUFTLENBQUNNLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDeEZqQixRQUFRLENBQUM0QixhQUFhLENBQUMsV0FBVyxDQUFDLENBQUNqQixTQUFTLENBQUNPLE1BQU0sQ0FBQyxTQUFTLENBQUM7SUFDL0QsU0FBU3FELE9BQU8sQ0FBQ3BCLEdBQUcsRUFBRXJDLFNBQVMsRUFBQztNQUM1QnFDLEdBQUcsQ0FBQzNDLE9BQU8sQ0FBQyxVQUFBZ0UsSUFBSTtRQUFBLE9BQUlBLElBQUksQ0FBQzdELFNBQVMsQ0FBQ00sR0FBRyxXQUFJSCxTQUFTLEVBQUc7TUFBQSxFQUFFO0lBQzVEO0lBQ0E7SUFDQUUsVUFBVSxDQUFDLFlBQUs7TUFDWm1ELFNBQVMsQ0FBQ3hELFNBQVMsQ0FBQ00sR0FBRyxDQUFDLGVBQWUsQ0FBQztNQUN4Q3NELE9BQU8sQ0FBQ1AsSUFBSSxFQUFFLGVBQWUsQ0FBQztNQUM5Qk8sT0FBTyxDQUFDTCxLQUFLLEVBQUUsZ0JBQWdCLENBQUM7SUFDcEMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztJQUVQbEQsVUFBVSxDQUFDLFlBQUs7TUFDWnVELE9BQU8sQ0FBQ04sS0FBSyxFQUFFLGdCQUFnQixDQUFDO01BQ2hDRyxVQUFVLENBQUM1RCxPQUFPLENBQUMsVUFBQWdFLElBQUk7UUFBQSxPQUFJQSxJQUFJLENBQUM3RCxTQUFTLENBQUNNLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztNQUFBLEVBQUM7SUFFcEUsQ0FBQyxFQUFFLEdBQUcsQ0FBQztJQUNQRCxVQUFVLENBQUUsWUFBTTtNQUNkcUQsY0FBYyxDQUFDN0QsT0FBTyxDQUFDLFVBQUFnRSxJQUFJO1FBQUEsT0FBSUEsSUFBSSxDQUFDN0QsU0FBUyxDQUFDTSxHQUFHLENBQUMsa0JBQWtCLENBQUM7TUFBQSxFQUFDO01BQ3RFcUQsZUFBZSxDQUFDOUQsT0FBTyxDQUFDLFVBQUFnRSxJQUFJO1FBQUEsT0FBSUEsSUFBSSxDQUFDN0QsU0FBUyxDQUFDTSxHQUFHLENBQUMsbUJBQW1CLENBQUM7TUFBQSxFQUFDO0lBQzVFLENBQUMsRUFBRSxJQUFJLENBQUM7SUFDUjtJQUNBeUMsUUFBUSxDQUFDekQsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFlBQUs7TUFDcEM0QyxLQUFLLENBQUNsQyxTQUFTLENBQUNpRCxRQUFRLENBQUMsVUFBVSxDQUFDLEtBQUssSUFBSSxHQUFHLElBQUksR0FBR3pDLFlBQVksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO01BQ2hGcUMsS0FBSyxDQUFDN0MsU0FBUyxDQUFDTSxHQUFHLENBQUMsT0FBTyxDQUFDO01BQzVCakIsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDakIsU0FBUyxDQUFDTSxHQUFHLENBQUMsT0FBTyxDQUFDO01BQzFEdUMsS0FBSyxDQUFDN0MsU0FBUyxDQUFDTyxNQUFNLENBQUMsbUJBQW1CLENBQUM7TUFDM0NsQixRQUFRLENBQUM2RCxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsUUFBUSxHQUFHLE1BQU07TUFDckNuQixjQUFjLENBQUNqQyxTQUFTLENBQUNPLE1BQU0sQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDO01BQ3REMkIsS0FBSyxDQUFDbEMsU0FBUyxDQUFDTyxNQUFNLFdBQUl1QyxTQUFTLEdBQUksT0FBTyxFQUFFLGFBQWEsQ0FBQztNQUM5RDFCLGVBQWUsQ0FBQyxTQUFTLENBQUM7SUFDOUIsQ0FBQyxDQUFDO0VBQ047RUFDQSxTQUFTMEMsU0FBUyxDQUFDQyxRQUFRLEVBQUVDLFNBQVMsRUFBRXBCLFFBQVEsRUFBRXFCLEdBQUcsRUFBRXBCLEtBQUssRUFBRXFCLEtBQUssRUFBRVosS0FBSyxFQUFFekIsTUFBTSxFQUFFQyxLQUFLLEVBQUM7SUFDdEZjLFFBQVEsQ0FBQ3RELGdCQUFnQixDQUFDLGNBQWMsRUFBRSxZQUFLO01BQzNDc0QsUUFBUSxDQUFDTyxLQUFLLENBQUNnQixTQUFTLDBDQUFtQ0osUUFBUSxTQUFNO01BQ3pFbkIsUUFBUSxDQUFDNUMsU0FBUyxDQUFDTyxNQUFNLFdBQUl5RCxTQUFTLEVBQUc7SUFDN0MsQ0FBQyxFQUFFO01BQUNJLElBQUksRUFBRTtJQUFJLENBQUMsQ0FBQztJQUNoQnhCLFFBQVEsQ0FBQzVDLFNBQVMsQ0FBQ00sR0FBRyxXQUFJMEQsU0FBUyxFQUFHO0lBQ3RDRSxLQUFLLENBQUNmLEtBQUssQ0FBQ2tCLE9BQU8sR0FBRyxHQUFHO0lBQ3pCeEIsS0FBSyxDQUFDN0MsU0FBUyxDQUFDTSxHQUFHLENBQUMsbUJBQW1CLENBQUM7SUFDeENqQixRQUFRLENBQUM0QixhQUFhLENBQUMsV0FBVyxDQUFDLENBQUNqQixTQUFTLENBQUNNLEdBQUcsQ0FBQyxTQUFTLENBQUM7SUFDNURqQixRQUFRLENBQUM0QixhQUFhLENBQUMsZUFBZSxDQUFDLENBQUNrQyxLQUFLLENBQUNrQixPQUFPLEdBQUcsR0FBRztJQUMzRHhDLE1BQU0sQ0FBQzdCLFNBQVMsQ0FBQ00sR0FBRyxDQUFDLFlBQVksQ0FBQztJQUNsQyxJQUFHMEQsU0FBUyxLQUFLLFlBQVksRUFBQztNQUMxQkMsR0FBRyxDQUFDZCxLQUFLLENBQUNtQixhQUFhLEdBQUcsTUFBTTtJQUNwQztFQUNKO0VBQ0EsU0FBU0MsU0FBUyxDQUFDM0IsUUFBUSxFQUFFcUIsR0FBRyxFQUFFcEIsS0FBSyxFQUFFcUIsS0FBSyxFQUFFWixLQUFLLEVBQUV6QixNQUFNLEVBQUVDLEtBQUssRUFBQztJQUNqRW1DLEdBQUcsQ0FBQzNFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFLO01BQy9CLElBQUdnRSxLQUFLLEtBQUssU0FBUyxFQUFDO1FBQ25CcEIsS0FBSyxDQUFDbEMsU0FBUyxDQUFDTSxHQUFHLENBQUMsVUFBVSxDQUFDO1FBQy9Cc0MsUUFBUSxDQUFDdEQsZ0JBQWdCLENBQUMsY0FBYyxFQUFFO1VBQUEsT0FBTXFELFNBQVMsQ0FBQ0MsUUFBUSxFQUFFQyxLQUFLLEVBQUMsVUFBVSxFQUFFbEQsVUFBVSxFQUFFa0MsTUFBTSxFQUFFTSxhQUFhLEVBQUVGLGNBQWMsRUFBRUMsS0FBSyxDQUFDO1FBQUEsR0FBRTtVQUFDa0MsSUFBSSxFQUFFO1FBQUksQ0FBQyxDQUFDO1FBQzlKTixTQUFTLENBQUMsSUFBSSxFQUFFLGNBQWMsRUFBRWxCLFFBQVEsRUFBRXFCLEdBQUcsRUFBRXBCLEtBQUssRUFBRXFCLEtBQUssRUFBRVosS0FBSyxFQUFFekIsTUFBTSxFQUFFQyxLQUFLLENBQUM7TUFDdEY7TUFDQSxJQUFHd0IsS0FBSyxLQUFLLE1BQU0sRUFBQztRQUNoQlYsUUFBUSxDQUFDdEQsZ0JBQWdCLENBQUMsY0FBYyxFQUFFO1VBQUEsT0FBTXFELFNBQVMsQ0FBQ0MsUUFBUSxFQUFFQyxLQUFLLEVBQUUsUUFBUSxFQUFFbEQsVUFBVSxFQUFFa0MsTUFBTSxFQUFFTSxhQUFhLEVBQUVGLGNBQWMsRUFBRUMsS0FBSyxFQUFFLE1BQU0sQ0FBQztRQUFBLEdBQUU7VUFBQ2tDLElBQUksRUFBRTtRQUFJLENBQUMsQ0FBQztRQUNyS04sU0FBUyxDQUFDLElBQUksRUFBRSxVQUFVLEVBQUVsQixRQUFRLEVBQUVxQixHQUFHLEVBQUVwQixLQUFLLEVBQUVxQixLQUFLLEVBQUVaLEtBQUssRUFBRXpCLE1BQU0sRUFBRUMsS0FBSyxDQUFDO01BQ2xGO01BQ0EsSUFBR3dCLEtBQUssS0FBSyxNQUFNLEVBQUM7UUFDaEJWLFFBQVEsQ0FBQ3RELGdCQUFnQixDQUFDLGNBQWMsRUFBRTtVQUFBLE9BQU1xRCxTQUFTLENBQUNDLFFBQVEsRUFBRUMsS0FBSyxFQUFFLFFBQVEsRUFBRWxELFVBQVUsRUFBRWtDLE1BQU0sRUFBRU0sYUFBYSxFQUFFRixjQUFjLEVBQUVDLEtBQUssRUFBRSxNQUFNLENBQUM7UUFBQSxHQUFFO1VBQUNrQyxJQUFJLEVBQUU7UUFBSSxDQUFDLENBQUM7UUFDcktOLFNBQVMsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFbEIsUUFBUSxFQUFFcUIsR0FBRyxFQUFFcEIsS0FBSyxFQUFFcUIsS0FBSyxFQUFFWixLQUFLLEVBQUV6QixNQUFNLEVBQUVDLEtBQUssQ0FBQztNQUNsRjtNQUNBLElBQUd3QixLQUFLLEtBQUssTUFBTSxFQUFDO1FBQ2hCVixRQUFRLENBQUN0RCxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUU7VUFBQSxPQUFNcUQsU0FBUyxDQUFDQyxRQUFRLEVBQUVDLEtBQUssRUFBRSxRQUFRLEVBQUVsRCxVQUFVLEVBQUVrQyxNQUFNLEVBQUVNLGFBQWEsRUFBRUYsY0FBYyxFQUFFQyxLQUFLLEVBQUUsTUFBTSxDQUFDO1FBQUEsR0FBRTtVQUFDa0MsSUFBSSxFQUFFO1FBQUksQ0FBQyxDQUFDO1FBQ3JLTixTQUFTLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRWxCLFFBQVEsRUFBRXFCLEdBQUcsRUFBRXBCLEtBQUssRUFBRXFCLEtBQUssRUFBRVosS0FBSyxFQUFFekIsTUFBTSxFQUFFQyxLQUFLLENBQUM7TUFDbEY7TUFDQSxJQUFHd0IsS0FBSyxLQUFLLE1BQU0sRUFBQztRQUNoQlYsUUFBUSxDQUFDdEQsZ0JBQWdCLENBQUMsY0FBYyxFQUFFO1VBQUEsT0FBTXFELFNBQVMsQ0FBQ0MsUUFBUSxFQUFFQyxLQUFLLEVBQUUsUUFBUSxFQUFFbEQsVUFBVSxFQUFFa0MsTUFBTSxFQUFFTSxhQUFhLEVBQUVGLGNBQWMsRUFBRUMsS0FBSyxFQUFFLE1BQU0sQ0FBQztRQUFBLEdBQUU7VUFBQ2tDLElBQUksRUFBRTtRQUFJLENBQUMsQ0FBQztRQUNyS04sU0FBUyxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUVsQixRQUFRLEVBQUVxQixHQUFHLEVBQUVwQixLQUFLLEVBQUVxQixLQUFLLEVBQUVaLEtBQUssRUFBRXpCLE1BQU0sRUFBRUMsS0FBSyxDQUFDO01BQ3BGO01BQ0EsSUFBR3dCLEtBQUssS0FBSyxNQUFNLEVBQUM7UUFDaEJWLFFBQVEsQ0FBQ3RELGdCQUFnQixDQUFDLGNBQWMsRUFBRTtVQUFBLE9BQU1xRCxTQUFTLENBQUNDLFFBQVEsRUFBRUMsS0FBSyxFQUFFLFFBQVEsRUFBRWxELFVBQVUsRUFBRWtDLE1BQU0sRUFBRU0sYUFBYSxFQUFFRixjQUFjLEVBQUVDLEtBQUssRUFBRSxNQUFNLENBQUM7UUFBQSxHQUFFO1VBQUNrQyxJQUFJLEVBQUU7UUFBSSxDQUFDLENBQUM7UUFDcktOLFNBQVMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFbEIsUUFBUSxFQUFFcUIsR0FBRyxFQUFFcEIsS0FBSyxFQUFFcUIsS0FBSyxFQUFFWixLQUFLLEVBQUV6QixNQUFNLEVBQUVDLEtBQUssQ0FBQztNQUNwRjtNQUNBLElBQUd3QixLQUFLLEtBQUssUUFBUSxFQUFDO1FBQ2xCVixRQUFRLENBQUN0RCxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUU7VUFBQSxPQUFNcUQsU0FBUyxDQUFDQyxRQUFRLEVBQUVDLEtBQUssRUFBRSxRQUFRLEVBQUVsRCxVQUFVLEVBQUVrQyxNQUFNLEVBQUVNLGFBQWEsRUFBRUYsY0FBYyxFQUFFQyxLQUFLLEVBQUUsUUFBUSxDQUFDO1FBQUEsR0FBRTtVQUFDa0MsSUFBSSxFQUFFO1FBQUksQ0FBQyxDQUFDO1FBQ3ZLTixTQUFTLENBQUMsSUFBSSxFQUFFLFlBQVksRUFBRWxCLFFBQVEsRUFBRXFCLEdBQUcsRUFBRXBCLEtBQUssRUFBRXFCLEtBQUssRUFBRVosS0FBSyxFQUFFekIsTUFBTSxFQUFFQyxLQUFLLENBQUM7TUFDcEY7TUFDQSxJQUFHd0IsS0FBSyxLQUFLLFFBQVEsRUFBQztRQUNsQlYsUUFBUSxDQUFDdEQsZ0JBQWdCLENBQUMsY0FBYyxFQUFFO1VBQUEsT0FBTXFELFNBQVMsQ0FBQ0MsUUFBUSxFQUFFQyxLQUFLLEVBQUUsUUFBUSxFQUFFbEQsVUFBVSxFQUFFa0MsTUFBTSxFQUFFTSxhQUFhLEVBQUVGLGNBQWMsRUFBRUMsS0FBSyxFQUFFLFFBQVEsQ0FBQztRQUFBLEdBQUU7VUFBQ2tDLElBQUksRUFBRTtRQUFJLENBQUMsQ0FBQztRQUN2S04sU0FBUyxDQUFDLElBQUksRUFBRSxZQUFZLEVBQUVsQixRQUFRLEVBQUVxQixHQUFHLEVBQUVwQixLQUFLLEVBQUVxQixLQUFLLEVBQUVaLEtBQUssRUFBRXpCLE1BQU0sRUFBRUMsS0FBSyxDQUFDO01BQ3BGO01BQ0EsSUFBR3dCLEtBQUssS0FBSyxRQUFRLEVBQUM7UUFDbEJWLFFBQVEsQ0FBQ3RELGdCQUFnQixDQUFDLGNBQWMsRUFBRTtVQUFBLE9BQU1xRCxTQUFTLENBQUNDLFFBQVEsRUFBRUMsS0FBSyxFQUFFLFFBQVEsRUFBRWxELFVBQVUsRUFBRWtDLE1BQU0sRUFBRU0sYUFBYSxFQUFFRixjQUFjLEVBQUVDLEtBQUssRUFBRSxRQUFRLENBQUM7UUFBQSxHQUFFO1VBQUNrQyxJQUFJLEVBQUU7UUFBSSxDQUFDLENBQUM7UUFDdktOLFNBQVMsQ0FBQyxJQUFJLEVBQUUsWUFBWSxFQUFFbEIsUUFBUSxFQUFFcUIsR0FBRyxFQUFFcEIsS0FBSyxFQUFFcUIsS0FBSyxFQUFFWixLQUFLLEVBQUV6QixNQUFNLEVBQUVDLEtBQUssQ0FBQztNQUNwRjtNQUNBLElBQUd3QixLQUFLLEtBQUssUUFBUSxFQUFDO1FBQ2xCVixRQUFRLENBQUN0RCxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUU7VUFBQSxPQUFNcUQsU0FBUyxDQUFDQyxRQUFRLEVBQUVDLEtBQUssRUFBRSxRQUFRLEVBQUVsRCxVQUFVLEVBQUVrQyxNQUFNLEVBQUVNLGFBQWEsRUFBRUYsY0FBYyxFQUFFQyxLQUFLLEVBQUUsUUFBUSxDQUFDO1FBQUEsR0FBRTtVQUFDa0MsSUFBSSxFQUFFO1FBQUksQ0FBQyxDQUFDO1FBQ3ZLTixTQUFTLENBQUMsSUFBSSxFQUFFLFlBQVksRUFBRWxCLFFBQVEsRUFBRXFCLEdBQUcsRUFBRXBCLEtBQUssRUFBRXFCLEtBQUssRUFBRVosS0FBSyxFQUFFekIsTUFBTSxFQUFFQyxLQUFLLENBQUM7TUFDcEY7SUFDSixDQUFDLENBQUM7RUFDTjtFQUNBeUMsU0FBUyxDQUFDOUMsYUFBYSxFQUFFRyxRQUFRLEVBQUVGLFNBQVMsRUFBRUMsVUFBVSxFQUFFLFFBQVEsRUFBRUUsTUFBTSxFQUFFQyxLQUFLLENBQUM7O0VBR3RGO0VBQ0ksSUFBTTBDLGdCQUFnQixHQUFHbkYsUUFBUSxDQUFDRyxnQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQztFQUN4RWdGLGdCQUFnQixDQUFDM0UsT0FBTyxDQUFDLFVBQUE0RSxNQUFNLEVBQUk7SUFDL0JBLE1BQU0sQ0FBQ25GLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFNO01BQ25DLElBQU1vRixPQUFPLEdBQUdELE1BQU0sQ0FBQ0Usa0JBQWtCO01BQ3pDdEYsUUFBUSxDQUFDRyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDSyxPQUFPLENBQUMsVUFBQWdFLElBQUksRUFBSTtRQUM3RCxJQUFJQSxJQUFJLEtBQUthLE9BQU8sRUFBRTtVQUNsQmIsSUFBSSxDQUFDVixLQUFLLENBQUN5QixPQUFPLEdBQUcsTUFBTTtVQUMzQmYsSUFBSSxDQUFDZ0Isc0JBQXNCLENBQUM3RSxTQUFTLENBQUNPLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDeEQ7TUFDSixDQUFDLENBQUM7TUFDRixJQUFJbUUsT0FBTyxDQUFDdkIsS0FBSyxDQUFDeUIsT0FBTyxLQUFLLE9BQU8sRUFBRTtRQUNuQ0YsT0FBTyxDQUFDdkIsS0FBSyxDQUFDeUIsT0FBTyxHQUFHLE1BQU07UUFDOUJILE1BQU0sQ0FBQ3pFLFNBQVMsQ0FBQ08sTUFBTSxDQUFDLE1BQU0sQ0FBQztNQUNuQyxDQUFDLE1BQU07UUFDSG1FLE9BQU8sQ0FBQ3ZCLEtBQUssQ0FBQ3lCLE9BQU8sR0FBRyxPQUFPO1FBQy9CSCxNQUFNLENBQUN6RSxTQUFTLENBQUNNLEdBQUcsQ0FBQyxNQUFNLENBQUM7TUFDaEM7SUFDSixDQUFDLENBQUM7RUFDTixDQUFDLENBQUM7O0VBR047O0VBRUksSUFBTXdFLFFBQVEsR0FBR3pGLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxZQUFZLENBQUM7RUFFckQsSUFBTThELE9BQU8sR0FBR0QsUUFBUSxDQUFDdEYsZ0JBQWdCLENBQUMsUUFBUSxDQUFDO0VBRW5ELElBQU13RixhQUFhLEdBQUczRixRQUFRLENBQUM0QixhQUFhLENBQUMsa0JBQWtCLENBQUM7RUFDaEUsSUFBTWdFLGFBQWEsR0FBRzVGLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQztFQUNoRSxJQUFNaUUsYUFBYSxHQUFHN0YsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLGtCQUFrQixDQUFDO0VBQ2hFLElBQU1rRSxhQUFhLEdBQUc5RixRQUFRLENBQUM0QixhQUFhLENBQUMsa0JBQWtCLENBQUM7RUFDaEUsSUFBTW1FLGFBQWEsR0FBRy9GLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQztFQUNoRSxJQUFNb0UsZUFBZSxHQUFHaEcsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLHFCQUFxQixDQUFDO0VBQ3JFLElBQU1xRSxlQUFlLEdBQUdqRyxRQUFRLENBQUM0QixhQUFhLENBQUMscUJBQXFCLENBQUM7RUFDckUsSUFBTXNFLGVBQWUsR0FBR2xHLFFBQVEsQ0FBQzRCLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQztFQUNyRSxJQUFNdUUsUUFBUSxHQUFHbkcsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLFlBQVksQ0FBQztFQUNyRCxJQUFNd0UsUUFBUSxHQUFHcEcsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLFlBQVksQ0FBQztFQUNyRCxJQUFNeUUsUUFBUSxHQUFHckcsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLFlBQVksQ0FBQztFQUN6RDtFQUNJLElBQU0wRSxRQUFRLEdBQUd0RyxRQUFRLENBQUM0QixhQUFhLENBQUMsWUFBWSxDQUFDO0VBRXJEMEUsUUFBUSxDQUFDckcsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO0lBQUEsT0FBS3dGLFFBQVEsQ0FBQzlFLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFNBQVMsQ0FBQztFQUFBLEVBQUM7RUFFN0VzRSxTQUFTLENBQUM5QyxhQUFhLEVBQUV1RCxhQUFhLEVBQUV0RCxTQUFTLEVBQUVDLFVBQVUsRUFBRSxNQUFNLEVBQUVFLE1BQU0sRUFBRUMsS0FBSyxDQUFDO0VBQ3JGeUMsU0FBUyxDQUFDOUMsYUFBYSxFQUFFd0QsYUFBYSxFQUFFdkQsU0FBUyxFQUFFQyxVQUFVLEVBQUUsTUFBTSxFQUFFRSxNQUFNLEVBQUVDLEtBQUssQ0FBQztFQUNyRnlDLFNBQVMsQ0FBQzlDLGFBQWEsRUFBRXlELGFBQWEsRUFBRXhELFNBQVMsRUFBRUMsVUFBVSxFQUFFLE1BQU0sRUFBRUUsTUFBTSxFQUFFQyxLQUFLLENBQUM7RUFDckZ5QyxTQUFTLENBQUM5QyxhQUFhLEVBQUUwRCxhQUFhLEVBQUV6RCxTQUFTLEVBQUVDLFVBQVUsRUFBRSxNQUFNLEVBQUVFLE1BQU0sRUFBRUMsS0FBSyxDQUFDO0VBQ3JGeUMsU0FBUyxDQUFDOUMsYUFBYSxFQUFFMkQsYUFBYSxFQUFFMUQsU0FBUyxFQUFFQyxVQUFVLEVBQUUsTUFBTSxFQUFFRSxNQUFNLEVBQUVDLEtBQUssQ0FBQztFQUNyRnlDLFNBQVMsQ0FBQzlDLGFBQWEsRUFBRTRELGVBQWUsRUFBRTNELFNBQVMsRUFBRUMsVUFBVSxFQUFFLFFBQVEsRUFBRUUsTUFBTSxFQUFFQyxLQUFLLENBQUM7RUFDekZ5QyxTQUFTLENBQUM5QyxhQUFhLEVBQUU2RCxlQUFlLEVBQUU1RCxTQUFTLEVBQUVDLFVBQVUsRUFBRSxRQUFRLEVBQUVFLE1BQU0sRUFBRUMsS0FBSyxDQUFDO0VBQ3pGeUMsU0FBUyxDQUFDOUMsYUFBYSxFQUFFOEQsZUFBZSxFQUFFN0QsU0FBUyxFQUFFQyxVQUFVLEVBQUUsUUFBUSxFQUFFRSxNQUFNLEVBQUVDLEtBQUssQ0FBQztFQUN6Rjs7RUFFQWlELE9BQU8sQ0FBQ2xGLE9BQU8sQ0FBQyxVQUFBZ0UsSUFBSSxFQUFHO0lBQ25CQSxJQUFJLENBQUN2RSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBTTtNQUNqQ21DLGFBQWEsQ0FBQzBCLEtBQUssQ0FBQ3lDLGlCQUFpQixHQUFHLE1BQU07TUFDOUNuRSxhQUFhLENBQUNuQyxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUUsWUFBSztRQUNoRG1DLGFBQWEsQ0FBQzBCLEtBQUssQ0FBQ3lDLGlCQUFpQixHQUFHLElBQUk7TUFDaEQsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0VBQ04sQ0FBQyxDQUFDO0VBR0ZILFFBQVEsQ0FBQ25HLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFLO0lBQ3BDb0MsU0FBUyxDQUFDMUIsU0FBUyxDQUFDQyxNQUFNLENBQUMsT0FBTyxDQUFDO0lBQ25DWixRQUFRLENBQUM0QixhQUFhLENBQUMsV0FBVyxDQUFDLENBQUNqQixTQUFTLENBQUNDLE1BQU0sQ0FBQyxPQUFPLENBQUM7SUFDN0R5QixTQUFTLENBQUMxQixTQUFTLENBQUNPLE1BQU0sQ0FBQyxPQUFPLENBQUM7SUFDbkNsQixRQUFRLENBQUM0QixhQUFhLENBQUMsV0FBVyxDQUFDLENBQUNqQixTQUFTLENBQUNPLE1BQU0sQ0FBQyxPQUFPLENBQUM7RUFDakUsQ0FBQyxDQUFDO0VBQ0ZtRixRQUFRLENBQUNwRyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBSztJQUNwQ29DLFNBQVMsQ0FBQzFCLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLE9BQU8sQ0FBQztJQUNuQ1osUUFBUSxDQUFDNEIsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDakIsU0FBUyxDQUFDQyxNQUFNLENBQUMsT0FBTyxDQUFDO0lBQzdEeUIsU0FBUyxDQUFDMUIsU0FBUyxDQUFDTyxNQUFNLENBQUMsT0FBTyxDQUFDO0lBQ25DbEIsUUFBUSxDQUFDNEIsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDakIsU0FBUyxDQUFDTyxNQUFNLENBQUMsT0FBTyxDQUFDO0VBRWpFLENBQUMsQ0FBQztFQUVGaUYsUUFBUSxDQUFDbEcsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO0lBQUEsT0FBTUssVUFBVSxHQUFHLENBQUM7RUFBQSxFQUFDO0FBRzVELENBQUMsQ0FBQyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT57XG4gICAgY29uc3QgZGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIud2hlZWxfX2RheXMtaXRlbVwiKVxuICAgIGNvbnN0IHBvcHVwRGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2RheXMtaXRlbVwiKTtcbiAgICBjb25zdCBwb3B1cERheXNNb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRheXNfX2l0ZW1cIik7XG4gICAgbGV0IGN1cnJlbnREYXkgPSA1XG4gICAgZnVuY3Rpb24gc2V0RGF5cyhkYXlzLCBjdXJyZW50RGF5KXtcbiAgICAgICAgZGF5cy5mb3JFYWNoKChkYXksIGkpID0+e1xuICAgICAgICAgICAgKytpXG4gICAgICAgICAgICBkYXkuY2xhc3NMaXN0LnRvZ2dsZShcIm5leHRcIiwgaSA+IGN1cnJlbnREYXkpO1xuICAgICAgICAgICAgZGF5LmNsYXNzTGlzdC50b2dnbGUoXCJwYXN0XCIsIGkgPCBjdXJyZW50RGF5KTtcbiAgICAgICAgICAgIGRheS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIsIGkgPT09IGN1cnJlbnREYXkpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBmdW5jdGlvbiBkYXlzUmVtaW5kKGRheXMsIGNsYXNzQW5pbSkge1xuICAgICAgICBsZXQgZGVsYXkgPSA5MDA7XG4gICAgICAgIGRheXMuZm9yRWFjaCgoZGF5LCBpKSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkYXkuY2xhc3NMaXN0LmFkZChjbGFzc0FuaW0pO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZGF5LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NBbmltKSwgMTIwMClcbiAgICAgICAgICAgIH0sIGRlbGF5ICogaSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCByYW5kb21JbnRlcnZhbCA9IE1hdGgucmFuZG9tKCkgKiAoNjAwMCAtIDQwMDApICsgNDAwMDtcbiAgICBmdW5jdGlvbiBhZGRGaXJld29ya3MoY29udGFpbmVyU2VsZWN0b3IsIG51bWJlck9mRmlyZXdvcmtzKSB7XG4gICAgICAgIGNvbnN0IGZpcmV3b3Jrc1dyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZmlyZXdvcmtzV3JhcC5jbGFzc05hbWUgPSAnZmlyZXdvcmtzLXdyYXAnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mRmlyZXdvcmtzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcmV3b3JrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBmaXJld29yay5jbGFzc05hbWUgPSAnZmlyZXdvcmsnO1xuICAgICAgICAgICAgZmlyZXdvcmtzV3JhcC5hcHBlbmRDaGlsZChmaXJld29yayk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmaXJld29ya3NXcmFwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYNCa0L7QvdGC0LXQudC90LXRgCDQtyDRgdC10LvQtdC60YLQvtGA0L7QvCBcIiR7Y29udGFpbmVyU2VsZWN0b3J9XCIg0L3QtSDQt9C90LDQudC00LXQvdC+LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUZpcmV3b3Jrcyhjb250YWluZXJTZWxlY3Rvcikge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgZmlyZXdvcmtzV3JhcCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZmlyZXdvcmtzLXdyYXAnKTtcbiAgICAgICAgICAgIGlmIChmaXJld29ya3NXcmFwKSB7XG4gICAgICAgICAgICAgICAgZmlyZXdvcmtzV3JhcC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg0JXQu9C10LzQtdC90YIg0Lcg0LrQu9Cw0YHQvtC8IFwiLmZpcmV3b3Jrcy13cmFwXCIg0L3QtSDQt9C90LDQudC00LXQvdC+INCyINC60L7QvdGC0LXQudC90LXRgNGWICR7Y29udGFpbmVyU2VsZWN0b3J9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg0JrQvtC90YLQtdC50L3QtdGAINC3INGB0LXQu9C10LrRgtC+0YDQvtC8IFwiJHtjb250YWluZXJTZWxlY3Rvcn1cIiDQvdC1INC30L3QsNC50LTQtdC90L4uYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRSYW5kb21JbnRlcnZhbCgpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tSW50ZXJ2YWwgPSBNYXRoLnJhbmRvbSgpICogKDIwMDAwIC0gMTAwMDApICsgMTAwMDA7IC8vINCS0LjQv9Cw0LTQutC+0LLQuNC5INGW0L3RgtC10YDQstCw0Lsg0LzRltC2IDEwINGWIDIwINGB0LXQutGD0L3QtNCw0LzQuFxuICAgICAgICBkYXlzUmVtaW5kKGRheXMsIFwicmVtaW5kXCIpO1xuICAgICAgICBkYXlzUmVtaW5kKHBvcHVwRGF5cywgXCJyZW1pbmRcIik7XG4gICAgICAgIGRheXNSZW1pbmQocG9wdXBEYXlzTW9iLCBcInJlbWluZFwiKTtcbiAgICAgICAgc2V0VGltZW91dChzdGFydFJhbmRvbUludGVydmFsLCByYW5kb21JbnRlcnZhbCk7XG4gICAgfVxuICAgIHN0YXJ0UmFuZG9tSW50ZXJ2YWwoKTtcbiAgICBkYXlzUmVtaW5kKGRheXMsIFwicmVtaW5kXCIpXG4gICAgc2V0RGF5cyhkYXlzLCBjdXJyZW50RGF5KVxuICAgIHNldERheXMocG9wdXBEYXlzLCBjdXJyZW50RGF5KVxuICAgIHNldERheXMocG9wdXBEYXlzTW9iLCBjdXJyZW50RGF5KVxuXG4vLy8gd2hlZWwgbG9naWNcbiAgICBjb25zdCB3aGVlbFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aGVlbF9fc2VjdGlvbnNcIilcbiAgICBjb25zdCB3aGVlbFdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndoZWVsX193cmFwXCIpXG4gICAgY29uc3Qgd2hlZWxBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2hlZWxfX2Fycm93XCIpXG4gICAgY29uc3Qgd2hlZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndoZWVsX19idG5cIilcbiAgICBjb25zdCBzcGluQmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNwaW4tYmdcIilcbiAgICBjb25zdCBzYWx1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmlyZXdvcmtzLXdyYXBcIilcbiAgICBjb25zdCBidWJsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2hlZWxfX2RheXMtaWNvbnNcIilcbiAgICBjb25zdCB3aGVlbEJ1YmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aGVlbF9fYnVibGVcIilcbiAgICBjb25zdCBwb3B1cENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBzXCIpXG4gICAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwXCIpXG4gICAgY29uc3QgcG9wdXBDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpXG5cbiAgICBidWJsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChlKSA9PntcbiAgICAgICAgd2hlZWxCdWJsZS5jbGFzc0xpc3QucmVtb3ZlKFwiX2hpZGRlblwiKVxuICAgIH0pXG4gICAgYnVibGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIChlKSA9PntcbiAgICAgICAgd2hlZWxCdWJsZS5jbGFzc0xpc3QuYWRkKFwiX2hpZGRlblwiKVxuICAgIH0pXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4gZS50YXJnZXQgPT09IGJ1YmxlQnRuID8gbnVsbCA6IHdoZWVsQnVibGUuY2xhc3NMaXN0LmFkZChcIl9oaWRkZW5cIikpXG4gICAgbGV0IHByaXplcyA9IFsnaXBob25lJywgJ2Vjb2Zsb3cnLCAnbWVyY2gnLCAnbm90aGluZycsIFwiYm9udXNlc1wiXVxuICAgIGZ1bmN0aW9uIGdldFJhbmRvbVByaXplKGFycikge1xuICAgICAgICByZXR1cm4gYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHByaXplcy5sZW5ndGgpXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvd1BvcHVwKHNlY3Rpb25zLCB3aGVlbCwgc2hvd0NsYXNzLCBjdXJyZW50RGF5LCBzcGluQmcsIGNsb3NlQnRuLCBwb3B1cENvbnRhaW5lciwgcG9wdXAsIGNsYXNzUHJpemUpe1xuICAgICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhdi1wYWdlXCIpLmNsYXNzTGlzdC5hZGQoXCJwb3B1cEJnXCIpXG4gICAgICAgIGlmKGNsYXNzUHJpemUpe1xuICAgICAgICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZChgJHtjbGFzc1ByaXplfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmKGNsYXNzUHJpemUgPT09IFwicmVzcGluXCIpIHJldHVyblxuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKGAke3Nob3dDbGFzc31gKVxuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ19ub3RoaW5nJykgPT09IHRydWUgPyBudWxsIDogYWRkRmlyZXdvcmtzKFwiLnBvcHVwc1wiLCA3KVxuICAgICAgICBjdXJyZW50RGF5ID09PSA3ID8gcG9wdXAuY2xhc3NMaXN0LmFkZChcIl9kb25lXCIpIDogcG9wdXAuY2xhc3NMaXN0LmFkZChcIl9pbmNvbXBsZXRlXCIpXG4gICAgICAgIHBvcHVwQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJfb3BhY2l0eVwiLCBcIl96SW5kZXhcIilcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCJcbiAgICAgICAgc3BpbkJnLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93U3BpbkJnXCIpXG4gICAgICAgIGNvbnN0IHBlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19wZXJzXCIpXG4gICAgICAgIGNvbnN0IHByaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fcHJpemVcIilcbiAgICAgICAgY29uc3QgYnVibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19idWJsZVwiKVxuICAgICAgICBjb25zdCBwb3B1cEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19tYWluXCIpXG4gICAgICAgIGNvbnN0IHBvcHVwVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX190aXRsZVwiKVxuICAgICAgICBjb25zdCBwb3B1cExlZnRBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2RlY29yLWxlZnRcIilcbiAgICAgICAgY29uc3QgcG9wdXBSaWdodEFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZGVjb3ItcmlnaHRcIilcbiAgICAgICAgY3VycmVudERheSA9PT0gNyA/IHBvcHVwQm9keS5jbGFzc0xpc3QuYWRkKFwiX2RvbmVcIikgOiBwb3B1cC5jbGFzc0xpc3QuYWRkKFwiX2luY29tcGxldGVcIilcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYXYtcGFnZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYmdTY2FsZVwiKVxuICAgICAgICBmdW5jdGlvbiBhZGRBbmltKGFyciwgY2xhc3NBbmltKXtcbiAgICAgICAgICAgIGFyci5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QuYWRkKGAke2NsYXNzQW5pbX1gKSApXG4gICAgICAgIH1cbiAgICAgICAgLy9wb3B1cCBhbmltYXRpb25zXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT57XG4gICAgICAgICAgICBwb3B1cEJvZHkuY2xhc3NMaXN0LmFkZChcInBvcHVwTWFpbkFuaW1cIilcbiAgICAgICAgICAgIGFkZEFuaW0ocGVycywgXCJwb3B1cFBlcnNBbmltXCIpXG4gICAgICAgICAgICBhZGRBbmltKGJ1YmxlLCBcInBvcHVwQnVibGVBbmltXCIpXG4gICAgICAgIH0sIDEwMClcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+e1xuICAgICAgICAgICAgYWRkQW5pbShwcml6ZSwgXCJwb3B1cFByaXplQW5pbVwiKVxuICAgICAgICAgICAgcG9wdXBUaXRsZS5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QuYWRkKFwicG9wdXBUaXRsZUFuaW1cIikpXG5cbiAgICAgICAgfSwgNjAwKVxuICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgICBwb3B1cExlZnRBcnJvdy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QuYWRkKFwicG9wdXBMZWZ0QXJyQW5pbVwiKSlcbiAgICAgICAgICAgIHBvcHVwUmlnaHRBcnJvdy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QuYWRkKFwicG9wdXBSaWdodEFyckFuaW1cIikpXG4gICAgICAgIH0sIDEyMDApXG4gICAgICAgIC8vcG9wdXAgYW5pbWF0aW9uc1xuICAgICAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgICAgICAgICBwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ19ub3RoaW5nJykgPT09IHRydWUgPyBudWxsIDogYWRkRmlyZXdvcmtzKFwiLndoZWVsXCIsIDcpXG4gICAgICAgICAgICB3aGVlbC5jbGFzc0xpc3QuYWRkKFwiX2xvY2tcIilcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3NcIikuY2xhc3NMaXN0LmFkZChcIl9sb2NrXCIpXG4gICAgICAgICAgICB3aGVlbC5jbGFzc0xpc3QucmVtb3ZlKFwid2hlZWxTaXplSW5jcmVhc2VcIilcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIlxuICAgICAgICAgICAgcG9wdXBDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIl9vcGFjaXR5XCIsIFwiX3pJbmRleFwiKVxuICAgICAgICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShgJHtzaG93Q2xhc3N9YCwgJ19kb25lJywgJ19pbmNvbXBsZXRlJylcbiAgICAgICAgICAgIHJlbW92ZUZpcmV3b3JrcyhcIi5wb3B1cHNcIik7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGZ1bmN0aW9uIHNwaW5XaGVlbChwb3NpdGlvbiwgYW5pbWF0aW9uLCBzZWN0aW9ucywgYnRuLCB3aGVlbCwgYXJyb3csIHByaXplLCBzcGluQmcsIHNhbHV0KXtcbiAgICAgICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PntcbiAgICAgICAgICAgIHNlY3Rpb25zLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKCR7cG9zaXRpb259ZGVnKWBcbiAgICAgICAgICAgIHNlY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoYCR7YW5pbWF0aW9ufWApXG4gICAgICAgIH0sIHtvbmNlOiB0cnVlfSlcbiAgICAgICAgc2VjdGlvbnMuY2xhc3NMaXN0LmFkZChgJHthbmltYXRpb259YClcbiAgICAgICAgYXJyb3cuc3R5bGUub3BhY2l0eSA9IFwiMFwiXG4gICAgICAgIHdoZWVsLmNsYXNzTGlzdC5hZGQoXCJ3aGVlbFNpemVJbmNyZWFzZVwiKVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhdi1wYWdlXCIpLmNsYXNzTGlzdC5hZGQoXCJiZ1NjYWxlXCIpXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VjdG9yLXByaXplXCIpLnN0eWxlLm9wYWNpdHkgPSBcIjFcIlxuICAgICAgICBzcGluQmcuY2xhc3NMaXN0LmFkZChcInNob3dTcGluQmdcIilcbiAgICAgICAgaWYoYW5pbWF0aW9uICE9PSBcInJlc3BpbkFuaW1cIil7XG4gICAgICAgICAgICBidG4uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiXG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZmlyc3RTcGluKHNlY3Rpb25zLCBidG4sIHdoZWVsLCBhcnJvdywgcHJpemUsIHNwaW5CZywgc2FsdXQpe1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xuICAgICAgICAgICAgaWYocHJpemUgPT09IFwibm90aGluZ1wiKXtcbiAgICAgICAgICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwiX25vdGhpbmdcIilcbiAgICAgICAgICAgICAgICBzZWN0aW9ucy5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHNob3dQb3B1cChzZWN0aW9ucywgd2hlZWwsXCJfbm90aGluZ1wiLCBjdXJyZW50RGF5LCBzcGluQmcsIHBvcHVwQ2xvc2VCdG4sIHBvcHVwQ29udGFpbmVyLCBwb3B1cCksIHtvbmNlOiB0cnVlfSlcbiAgICAgICAgICAgICAgICBzcGluV2hlZWwoMTg3MiwgXCJub3RoaW5nUHJpemVcIiwgc2VjdGlvbnMsIGJ0biwgd2hlZWwsIGFycm93LCBwcml6ZSwgc3BpbkJnLCBzYWx1dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHByaXplID09PSBcImZzMjJcIil7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiBzaG93UG9wdXAoc2VjdGlvbnMsIHdoZWVsLCBcIl9ib251c1wiLCBjdXJyZW50RGF5LCBzcGluQmcsIHBvcHVwQ2xvc2VCdG4sIHBvcHVwQ29udGFpbmVyLCBwb3B1cCwgXCJmczIyXCIpLCB7b25jZTogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgc3BpbldoZWVsKDE4MDAsIFwiZnMyMmFuaW1cIiwgc2VjdGlvbnMsIGJ0biwgd2hlZWwsIGFycm93LCBwcml6ZSwgc3BpbkJnLCBzYWx1dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHByaXplID09PSBcImZzMzNcIil7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiBzaG93UG9wdXAoc2VjdGlvbnMsIHdoZWVsLCBcIl9ib251c1wiLCBjdXJyZW50RGF5LCBzcGluQmcsIHBvcHVwQ2xvc2VCdG4sIHBvcHVwQ29udGFpbmVyLCBwb3B1cCwgXCJmczMzXCIpLCB7b25jZTogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgc3BpbldoZWVsKDE3NjIsIFwiZnMzM2FuaW1cIiwgc2VjdGlvbnMsIGJ0biwgd2hlZWwsIGFycm93LCBwcml6ZSwgc3BpbkJnLCBzYWx1dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHByaXplID09PSBcImZzNDRcIil7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiBzaG93UG9wdXAoc2VjdGlvbnMsIHdoZWVsLCBcIl9ib251c1wiLCBjdXJyZW50RGF5LCBzcGluQmcsIHBvcHVwQ2xvc2VCdG4sIHBvcHVwQ29udGFpbmVyLCBwb3B1cCwgXCJmczQ0XCIpLCB7b25jZTogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgc3BpbldoZWVsKDIwODgsIFwiZnM0NGFuaW1cIiwgc2VjdGlvbnMsIGJ0biwgd2hlZWwsIGFycm93LCBwcml6ZSwgc3BpbkJnLCBzYWx1dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHByaXplID09PSBcImZzNTVcIil7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiBzaG93UG9wdXAoc2VjdGlvbnMsIHdoZWVsLCBcIl9ib251c1wiLCBjdXJyZW50RGF5LCBzcGluQmcsIHBvcHVwQ2xvc2VCdG4sIHBvcHVwQ29udGFpbmVyLCBwb3B1cCwgXCJmczU1XCIpLCB7b25jZTogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgc3BpbldoZWVsKDIwNTIuNSwgXCJmczU1YW5pbVwiLCBzZWN0aW9ucywgYnRuLCB3aGVlbCwgYXJyb3csIHByaXplLCBzcGluQmcsIHNhbHV0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYocHJpemUgPT09IFwiZnM2NlwiKXtcbiAgICAgICAgICAgICAgICBzZWN0aW9ucy5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHNob3dQb3B1cChzZWN0aW9ucywgd2hlZWwsIFwiX2JvbnVzXCIsIGN1cnJlbnREYXksIHNwaW5CZywgcG9wdXBDbG9zZUJ0biwgcG9wdXBDb250YWluZXIsIHBvcHVwLCBcImZzNjZcIiksIHtvbmNlOiB0cnVlfSlcbiAgICAgICAgICAgICAgICBzcGluV2hlZWwoMjAxNi41LCBcImZzNjZhbmltXCIsIHNlY3Rpb25zLCBidG4sIHdoZWVsLCBhcnJvdywgcHJpemUsIHNwaW5CZywgc2FsdXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwcml6ZSA9PT0gXCJldXJvMTBcIil7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiBzaG93UG9wdXAoc2VjdGlvbnMsIHdoZWVsLCBcIl9ib251c1wiLCBjdXJyZW50RGF5LCBzcGluQmcsIHBvcHVwQ2xvc2VCdG4sIHBvcHVwQ29udGFpbmVyLCBwb3B1cCwgXCJldXJvMTBcIiksIHtvbmNlOiB0cnVlfSlcbiAgICAgICAgICAgICAgICBzcGluV2hlZWwoMTk4MCwgXCJldXJvMTBhbmltXCIsIHNlY3Rpb25zLCBidG4sIHdoZWVsLCBhcnJvdywgcHJpemUsIHNwaW5CZywgc2FsdXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwcml6ZSA9PT0gXCJldXJvMjBcIil7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiBzaG93UG9wdXAoc2VjdGlvbnMsIHdoZWVsLCBcIl9ib251c1wiLCBjdXJyZW50RGF5LCBzcGluQmcsIHBvcHVwQ2xvc2VCdG4sIHBvcHVwQ29udGFpbmVyLCBwb3B1cCwgXCJldXJvMjBcIiksIHtvbmNlOiB0cnVlfSlcbiAgICAgICAgICAgICAgICBzcGluV2hlZWwoMTk0MiwgXCJldXJvMjBhbmltXCIsIHNlY3Rpb25zLCBidG4sIHdoZWVsLCBhcnJvdywgcHJpemUsIHNwaW5CZywgc2FsdXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwcml6ZSA9PT0gXCJldXJvMzBcIil7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiBzaG93UG9wdXAoc2VjdGlvbnMsIHdoZWVsLCBcIl9ib251c1wiLCBjdXJyZW50RGF5LCBzcGluQmcsIHBvcHVwQ2xvc2VCdG4sIHBvcHVwQ29udGFpbmVyLCBwb3B1cCwgXCJldXJvMzBcIiksIHtvbmNlOiB0cnVlfSlcbiAgICAgICAgICAgICAgICBzcGluV2hlZWwoMTkwOCwgXCJldXJvMzBhbmltXCIsIHNlY3Rpb25zLCBidG4sIHdoZWVsLCBhcnJvdywgcHJpemUsIHNwaW5CZywgc2FsdXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwcml6ZSA9PT0gXCJyZXNwaW5cIil7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiBzaG93UG9wdXAoc2VjdGlvbnMsIHdoZWVsLCBcIl9ib251c1wiLCBjdXJyZW50RGF5LCBzcGluQmcsIHBvcHVwQ2xvc2VCdG4sIHBvcHVwQ29udGFpbmVyLCBwb3B1cCwgXCJyZXNwaW5cIiksIHtvbmNlOiB0cnVlfSlcbiAgICAgICAgICAgICAgICBzcGluV2hlZWwoNzIuNSwgXCJyZXNwaW5BbmltXCIsIHNlY3Rpb25zLCBidG4sIHdoZWVsLCBhcnJvdywgcHJpemUsIHNwaW5CZywgc2FsdXQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGZpcnN0U3Bpbih3aGVlbFNlY3Rpb25zLCB3aGVlbEJ0biwgd2hlZWxXcmFwLCB3aGVlbEFycm93LCBcInJlc3BpblwiLCBzcGluQmcsIHNhbHV0KVxuXG5cbi8vLy8gYWNjb3JkaW9uXG4gICAgY29uc3QgYWNjb3JkaW9uSGVhZGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2hlYWRlcicpO1xuICAgIGFjY29yZGlvbkhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xuICAgICAgICBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gaGVhZGVyLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2NvbnRlbnQnKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSBjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjb250ZW50LnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuXG4vLy8vIGZvciB0ZXN0XG5cbiAgICBjb25zdCBidG5zV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5zLXdyYXAnKTtcblxuICAgIGNvbnN0IGJ1dHRvbnMgPSBidG5zV3JhcC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTtcblxuICAgIGNvbnN0IGRyb3BCb251c2ZzMjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcC1ib251cy5mczIyJyk7XG4gICAgY29uc3QgZHJvcEJvbnVzZnMzMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLWJvbnVzLmZzMzMnKTtcbiAgICBjb25zdCBkcm9wQm9udXNmczQ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3AtYm9udXMuZnM0NCcpO1xuICAgIGNvbnN0IGRyb3BCb251c2ZzNTUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcC1ib251cy5mczU1Jyk7XG4gICAgY29uc3QgZHJvcEJvbnVzZnM2NiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLWJvbnVzLmZzNjYnKTtcbiAgICBjb25zdCBkcm9wQm9udXNFdXJvMTAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcC1ib251cy5ldXJvMTAgJyk7XG4gICAgY29uc3QgZHJvcEJvbnVzRXVybzIwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3AtYm9udXMuZXVybzIwICcpO1xuICAgIGNvbnN0IGRyb3BCb251c0V1cm8zMCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLWJvbnVzLmV1cm8zMCAnKTtcbiAgICBjb25zdCBkcm9wRG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLWRvbmUnKTtcbiAgICBjb25zdCBkcm9wTG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLWxvY2snKTtcbiAgICBjb25zdCBkcm9wU2lnbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLXNpZ24nKTtcbi8vIGNvbnN0IGRyb3BJbmNvbXBsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3AtaW5jb21wbGV0ZScpO1xuICAgIGNvbnN0IGRyb3BNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3AtbWVudScpO1xuXG4gICAgZHJvcE1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4gYnRuc1dyYXAuY2xhc3NMaXN0LnRvZ2dsZShcIl9oaWRkZW5cIikpXG5cbiAgICBmaXJzdFNwaW4od2hlZWxTZWN0aW9ucywgZHJvcEJvbnVzZnMyMiwgd2hlZWxXcmFwLCB3aGVlbEFycm93LCBcImZzMjJcIiwgc3BpbkJnLCBzYWx1dClcbiAgICBmaXJzdFNwaW4od2hlZWxTZWN0aW9ucywgZHJvcEJvbnVzZnMzMywgd2hlZWxXcmFwLCB3aGVlbEFycm93LCBcImZzMzNcIiwgc3BpbkJnLCBzYWx1dClcbiAgICBmaXJzdFNwaW4od2hlZWxTZWN0aW9ucywgZHJvcEJvbnVzZnM0NCwgd2hlZWxXcmFwLCB3aGVlbEFycm93LCBcImZzNDRcIiwgc3BpbkJnLCBzYWx1dClcbiAgICBmaXJzdFNwaW4od2hlZWxTZWN0aW9ucywgZHJvcEJvbnVzZnM1NSwgd2hlZWxXcmFwLCB3aGVlbEFycm93LCBcImZzNTVcIiwgc3BpbkJnLCBzYWx1dClcbiAgICBmaXJzdFNwaW4od2hlZWxTZWN0aW9ucywgZHJvcEJvbnVzZnM2Niwgd2hlZWxXcmFwLCB3aGVlbEFycm93LCBcImZzNjZcIiwgc3BpbkJnLCBzYWx1dClcbiAgICBmaXJzdFNwaW4od2hlZWxTZWN0aW9ucywgZHJvcEJvbnVzRXVybzEwLCB3aGVlbFdyYXAsIHdoZWVsQXJyb3csIFwiZXVybzEwXCIsIHNwaW5CZywgc2FsdXQpXG4gICAgZmlyc3RTcGluKHdoZWVsU2VjdGlvbnMsIGRyb3BCb251c0V1cm8yMCwgd2hlZWxXcmFwLCB3aGVlbEFycm93LCBcImV1cm8yMFwiLCBzcGluQmcsIHNhbHV0KVxuICAgIGZpcnN0U3Bpbih3aGVlbFNlY3Rpb25zLCBkcm9wQm9udXNFdXJvMzAsIHdoZWVsV3JhcCwgd2hlZWxBcnJvdywgXCJldXJvMzBcIiwgc3BpbkJnLCBzYWx1dClcbiAgICAvLyBmaXJzdFNwaW4od2hlZWxTZWN0aW9ucywgZHJvcEJvbnVzQnV0dG9uLCB3aGVlbFdyYXAsIHdoZWVsQXJyb3csIFwiYm9udXNlc1wiLCBzcGluQmcsIHNhbHV0KVxuXG4gICAgYnV0dG9ucy5mb3JFYWNoKGl0ZW0gPT57XG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHdoZWVsU2VjdGlvbnMuc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPSBcIjAuMXNcIlxuICAgICAgICAgICAgd2hlZWxTZWN0aW9ucy5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+e1xuICAgICAgICAgICAgICAgIHdoZWVsU2VjdGlvbnMuc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPSBcIjhzXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSlcblxuXG4gICAgZHJvcExvY2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xuICAgICAgICB3aGVlbFdyYXAuY2xhc3NMaXN0LnRvZ2dsZShcIl9sb2NrXCIpXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3NcIikuY2xhc3NMaXN0LnRvZ2dsZShcIl9sb2NrXCIpXG4gICAgICAgIHdoZWVsV3JhcC5jbGFzc0xpc3QucmVtb3ZlKFwiX3NpZ25cIilcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9ncmVzc1wiKS5jbGFzc0xpc3QucmVtb3ZlKFwiX3NpZ25cIilcbiAgICB9KVxuICAgIGRyb3BTaWduLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PntcbiAgICAgICAgd2hlZWxXcmFwLmNsYXNzTGlzdC50b2dnbGUoXCJfc2lnblwiKVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2dyZXNzXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJfc2lnblwiKVxuICAgICAgICB3aGVlbFdyYXAuY2xhc3NMaXN0LnJlbW92ZShcIl9sb2NrXCIpXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3NcIikuY2xhc3NMaXN0LnJlbW92ZShcIl9sb2NrXCIpXG5cbiAgICB9KVxuXG4gICAgZHJvcERvbmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGN1cnJlbnREYXkgPSA3KVxuXG5cbn0pIl19
